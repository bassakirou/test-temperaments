/* empty css               */!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();let e=[],t=0,n={sanguine:0,choleric:0,melancholy:0,phlegmatic:0},o=[],i="fr",a=null;const s={fr:{mainTitle:"Test de Personnalit√© : Les 4 Temp√©raments",welcomeText:"Bienvenue ! Ce test ludique te permettra de d√©couvrir ton temp√©rament dominant parmi les 4 types : Sanguin, Col√©rique, M√©lancolique, Flegmatique.",instructionText:"Pour chaque question, r√©ponds de 1 (Pas du tout) √† 5 (Tout √† fait).",startBtn:"Commencer le test",restartBtn:"Refaire le test",aiAnalysisTitle:"Analyse Personnalis√©e par IA",generatingAnalysis:"G√©n√©ration de votre analyse personnalis√©e...",aiEnabled:"ü§ñ <strong>Analyse IA activ√©e</strong> - Vous recevrez une analyse personnalis√©e d√©taill√©e !",aiDisabled:"üìä Analyse IA d√©sactiv√©e - Vous recevrez les r√©sultats de base.",aiNotFound:"‚ö†Ô∏è Configuration IA non trouv√©e - Veuillez configurer config.js pour l'analyse IA.",dominantTemperament:"Votre temp√©rament dominant :",question:"Question",of:"sur",temperaments:{sanguine:"Sanguin",choleric:"Col√©rique",melancholy:"M√©lancolique",phlegmatic:"Flegmatique"}},en:{mainTitle:"Personality Test: The 4 Temperaments",welcomeText:"Welcome! This fun test will help you discover your dominant temperament among the 4 types: Sanguine, Choleric, Melancholic, Phlegmatic.",instructionText:"For each question, answer from 1 (Not at all) to 5 (Completely).",startBtn:"Start the test",restartBtn:"Retake the test",aiAnalysisTitle:"AI Personalized Analysis",generatingAnalysis:"Generating your personalized analysis...",aiEnabled:"ü§ñ <strong>AI Analysis enabled</strong> - You will receive a detailed personalized analysis!",aiDisabled:"üìä AI Analysis disabled - You will receive basic results.",aiNotFound:"‚ö†Ô∏è AI Configuration not found - Please configure config.js for AI analysis.",dominantTemperament:"Your dominant temperament:",question:"Question",of:"of",temperaments:{sanguine:"Sanguine",choleric:"Choleric",melancholy:"Melancholic",phlegmatic:"Phlegmatic"}}},r={fr:{sanguine:{name:"Sanguin",emoji:"üòÑ",color:"#ff6b6b",traits:["Extraverti","Optimiste","Sociable","Spontan√©"]},choleric:{name:"Col√©rique",emoji:"üí™",color:"#4ecdc4",traits:["Leader","D√©termin√©","Ambitieux","Direct"]},melancholy:{name:"M√©lancolique",emoji:"ü§î",color:"#45b7d1",traits:["Analytique","Perfectionniste","R√©fl√©chi","Cr√©atif"]},phlegmatic:{name:"Flegmatique",emoji:"üòå",color:"#96ceb4",traits:["Calme","Loyal","Patient","Diplomate"]}},en:{sanguine:{name:"Sanguine",emoji:"üòÑ",color:"#ff6b6b",traits:["Extroverted","Optimistic","Sociable","Spontaneous"]},choleric:{name:"Choleric",emoji:"üí™",color:"#4ecdc4",traits:["Leader","Determined","Ambitious","Direct"]},melancholy:{name:"Melancholic",emoji:"ü§î",color:"#45b7d1",traits:["Analytical","Perfectionist","Thoughtful","Creative"]},phlegmatic:{name:"Phlegmatic",emoji:"üòå",color:"#96ceb4",traits:["Calm","Loyal","Patient","Diplomatic"]}}};function l(){const e=s[i];document.getElementById("main-title").textContent=e.mainTitle,document.getElementById("welcome-text").textContent=e.welcomeText,document.getElementById("instruction-text").textContent=e.instructionText,document.getElementById("start-btn").textContent=e.startBtn,document.getElementById("restart-btn").textContent=e.restartBtn,document.getElementById("ai-analysis-title").textContent=e.aiAnalysisTitle}async function c(){try{const t=await fetch("./questions.json"),n=await t.json();e=n[i]||n.fr}catch(t){console.error("Erreur lors du chargement des questions:",t)}}function u(){if(t>=e.length)return void function(){document.querySelector(".quiz").classList.add("hidden"),document.querySelector(".result").classList.remove("hidden");const t=Object.keys(n).reduce((e,t)=>n[e]>n[t]?e:t);(function(t){const o=s[i],a=r[i];document.getElementById("temperament-title").innerHTML=`${o.dominantTemperament} ${a[t].emoji} ${a[t].name}`;const l=document.getElementById("scores-grid");l.innerHTML="",Object.keys(n).forEach(t=>{const o=document.createElement("div");o.className="score-card",o.style.borderColor=a[t].color;const i=Math.round(n[t]/(5*e.length)*100);o.innerHTML=`\n            <h3 style="color: ${a[t].color};">${a[t].emoji} ${a[t].name}</h3>\n            <div class="score-bar">\n                <div class="score-fill" style="width: ${i}%; background-color: ${a[t].color};"></div>\n            </div>\n            <p>${i}%</p>\n            <div class="traits">\n                ${a[t].traits.map(e=>`<span class="trait">${e}</span>`).join("")}\n            </div>\n        `,l.appendChild(o)})})(t),a&&a.isConfigured()&&async function(e){const t=document.getElementById("ai-analysis"),r=document.getElementById("ai-analysis-content"),l=document.getElementById("analysis-loader");t.style.display="block",l.style.display="inline-block",r.innerHTML=s[i].generatingAnalysis;try{const t={dominant_temperament:e,scores:n,responses:o,language:i},s=await fetch("https://api.groq.com/openai/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${a.GROQ_API_KEY}`,"Content-Type":"application/json"},body:JSON.stringify({model:a.AI_MODEL,messages:[{role:"system",content:`Tu es un expert en psychologie des temp√©raments. Analyse les r√©sultats du test et fournis une analyse personnalis√©e en ${"fr"===i?"fran√ßais":"anglais"}.`},{role:"user",content:`Voici les r√©sultats du test de temp√©rament : ${JSON.stringify(t)}. Fournis une analyse d√©taill√©e et des conseils personnalis√©s.`}],max_tokens:a.ANALYSIS_SETTINGS.max_tokens,temperature:a.ANALYSIS_SETTINGS.temperature})}),l=await s.json();if(!l.choices||!l.choices[0])throw new Error("R√©ponse invalide de l'IA");r.innerHTML=l.choices[0].message.content}catch(c){console.error("Erreur lors de l'analyse IA:",c),r.innerHTML="Erreur lors de la g√©n√©ration de l'analyse IA."}finally{l.style.display="none"}}(t)}();const l=e[t];document.getElementById("question-text").textContent=l.text,document.getElementById("progress").textContent=`${s[i].question} ${t+1} ${s[i].of} ${e.length}`;const c=document.getElementById("scale-buttons");c.innerHTML="";for(let e=1;e<=5;e++){const t=document.createElement("button");t.textContent=e,t.className="scale-btn",t.onclick=()=>d(e),c.appendChild(t)}}function d(i){const a=e[t];o.push({question:a.text,answer:i,temperament:a.temperament}),n[a.temperament]+=i,t++,u()}window.updateAIStatus=function(){const e=document.getElementById("ai-status"),t=s[i];a&&a.isConfigured()?(e.innerHTML=t.aiEnabled,e.style.color="#4CAF50"):a&&!a.isConfigured()?(e.innerHTML=t.aiNotFound,e.style.color="#F44336"):a&&!a.ANALYSIS_SETTINGS.enabled?(e.innerHTML=t.aiDisabled,e.style.color="#FF9800"):(e.innerHTML=t.aiNotFound,e.style.color="#F44336")},window.setLanguage=function(t){i=t,document.querySelectorAll(".lang-btn").forEach(e=>e.classList.remove("active")),document.getElementById(`lang-${t}`).classList.add("active"),l(),"function"==typeof updateMenuLanguage&&updateMenuLanguage(i),e.length>0&&c()},window.startQuiz=function(){0!==e.length?(t=0,n={sanguine:0,choleric:0,melancholy:0,phlegmatic:0},o=[],document.querySelector(".intro").classList.add("hidden"),document.querySelector(".quiz").classList.remove("hidden"),u()):alert("Questions non charg√©es")},window.restartTest=function(){document.querySelector(".result").classList.add("hidden"),document.querySelector(".intro").classList.remove("hidden"),t=0,n={sanguine:0,choleric:0,melancholy:0,phlegmatic:0},o=[]},document.addEventListener("DOMContentLoaded",async function(){await async function(){try{const e=document.createElement("script");return e.src="./config.js",new Promise((t,n)=>{e.onload=()=>{window.CONFIG?(a=window.CONFIG,console.log("Configuration IA charg√©e:",a.getDebugInfo()),t()):n(new Error("CONFIG non trouv√©"))},e.onerror=n,document.head.appendChild(e)})}catch(e){console.log("Configuration IA non trouv√©e:",e),a=null}}(),await async function(){try{const e=await fetch("./menu.html"),t=await e.text();document.getElementById("menu-placeholder").innerHTML=t,"function"==typeof initializeMenu&&initializeMenu()}catch(e){console.log("Menu non trouv√©:",e)}}(),await c(),function(){const e=document.getElementById("ai-status"),t=s[i];a&&a.isConfigured()&&a.ANALYSIS_SETTINGS.enabled?(e.innerHTML=t.aiEnabled,e.style.color="#4CAF50"):a&&!a.isConfigured()?(e.innerHTML=t.aiNotFound,e.style.color="#F44336"):a&&!a.ANALYSIS_SETTINGS.enabled?(e.innerHTML=t.aiDisabled,e.style.color="#FF9800"):(e.innerHTML=t.aiNotFound,e.style.color="#F44336")}(),l()});
